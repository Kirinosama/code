#include <cstdlib>
#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <queue>
using namespace std;

#define ii pair<int,int>
int n,m,T;
int f[4][4][25]={{{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
},
{{0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,2,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,3,12,17,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,4,24,61,76,40,10,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
},
{{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,3,12,17,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,6,48,166,312,334,192,64,12,1,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,10,120,661,2179,4718,6929,6897,4568,2065,643,134,17,1,0,0,0,0,0,0,0}
},
{{0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,4,24,61,76,40,10,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,10,120,661,2179,4718,6929,6897,4568,2065,643,134,17,1,0,0,0,0,0,0,0},
{0,0,0,0,0,0,20,360,3066,16332,60670,165956,344033,547944,672928,635632,460680,258144,112742,38392,10071,1976,274,24,1}
}};
double p;

double pow(double x,int k){
	double res=1.0;
	while(k){
		if(k&1) res=res*x;
		x=x*x,k>>=1;
	}
	return res;
}

int main(){
	freopen("T2.in","r",stdin);
	cin>>T;
	while(T--){
		cin>>n>>m>>p;
		int tot=n*(m-1)+m*(n-1);
		double ans=0.0;
		for(int i=0;i<=tot;i++)
			ans+=pow(1-p,i)*pow(p,tot-i)*(double)f[n-1][m-1][i];
		printf("%.6f\n",ans);
	}
	return 0;
}
